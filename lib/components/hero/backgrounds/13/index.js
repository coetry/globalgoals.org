const html = require('choo/html');
const component = require('fun-component');

const OPEN_EYE = 'M566 566c208.03 0 396.36-94.17 565-282.5C962.36 95.17 774.03 1 566 1 357.97 1 169.64 95.17 1 283.5 169.64 471.83 357.97 566 566 566z';
const CLOSED_EYE = 'M566 566c208.03 0 396.36-94.17 565-282.5C962.36 471.83 774.03 566 566 566c-208.03 0-396.36-94.17-565-282.5C169.64 471.83 357.97 566 566 566z';

module.exports = component({
  name: 'backgorund-13',
  load(element) {
    const eyeLid = element.querySelector('.js-eyeLid');
    const globe = element.querySelector('.js-globe');

    eyeLid.addEventListener('animationend', function onanimationend() {
      eyeLid.removeEventListener('animationend', onanimationend);

      const eye = html`
        <svg viewBox="0 0 1132 567" class="Hero-eye">
          <path class="js-eye" fill="#306F3A" d="${ CLOSED_EYE }" />
        </svg>
      `;

      eye.firstElementChild.appendChild(html`
        <animate attributeName="d" begin="0ms" dur="325ms" fill="freeze" values="${ [ CLOSED_EYE, OPEN_EYE ].join(';') }" />
      `);

      element.insertBefore(eye, globe);

      setTimeout(() => globe.classList.add('is-visible'), 200);
    });

    eyeLid.classList.add('is-visible');
  },
  render() {
    return html`
      <div class="Hero-bg Hero-13" id="hero-bg-13">
        <svg viewBox="0 0 1132 296" class="Hero-eyeLid">
          <path class="Hero-eyeLidLine js-eyeLid" d="M7 7.15C169.77 193.7 354.6 286.98 561.5 286.98c206.9 0 394.73-93.57 563.5-280.72" stroke="#306F3A" stroke-width="18" fill="none" />
        </svg>

        <svg viewBox="0 0 489 489" class="Hero-globe js-globe">
          <g class="Hero-globeShape" fill="none" fill-rule="evenodd">
            <circle fill="#306F3A" cx="245" cy="245" r="244"/>
            <path d="M471.64 200.94c-2.14 8.48-18.22 15.78-27.55 2.13-2.4-3.46-12.5-13-12.2 3.32.3 16.3 15.8 17.9.8 27.7s-17.8 7.4-24.8 9.9c-6.9 2.4-13.7 19.2-12 28.2 1.7 9 23.1 33.5 7.2 32.5-3.7-.3-31.8-19.5-36.5-31.9-4.9-13-10.3-25.8-14.1-35.6-3.8-9.8-13.8-12.3-22.2-6.6-8.4 5.73 2.3 11.44-3.7 23.72-6 12.23-10.3 23.14-19.2 13.04-23-26.37-56.3-13.38-61.6-42.67-2.8-15.9-16.5-14.37-27.9-23.36-11.5-8.95-17.9-13.8-19.9-7.3-1.7 5.7 36 35.52 38.65 43.2 4 11.34-11.3 21.4-22.45 24.1-11.12 2.7-16-6.3-27-17.7-10.96-11.4-15.74-19.58-16.5-10.6-1.1 12.95 10.4 31.94 21.6 39.06 9.54 6.05 20.2 8.8 17.1 18.57-3.07 9.8 0 4.23-10.7 14.8-10.7 10.6-12.7 14-11.95 28.66.8 14.7-3.05 15.52-5.36 27.74-2.3 12.24-7.6 1.67-12.2 19.58-4.6 18-9.9 24.5-14.47 30.15-4.6 5.7-21.4 13-32.1 12.2-10.7-.8-12.2-29.36-12.2-44.04 0-5.07-7.2 10-10.95-20.6-2.4-19.5-14.93 2.1-15.8-11-.9-13-7.2-10.4-13.8-18.56-6.57-8.12-14.73.8-23.93 4.9-9.1 4.1-5.34 6.2-18.32 2.14-.32-.1-.5-.2-.8-.4-11.9-28.1-18.5-59-18.5-91.6 0-7.9.4-15.7 1.18-23.4.46-.8.9-1.57 1.45-2.2 12.45-14.7 12.2-18.2 12.2-18.2L37 196.3s22 3.4 38.57 9.65c13.66 5.1 35.14 16.7 47.64 11.6 9-3.75 16.1-8.68 15.2-16.2-1-9.45-8.4-11.68-17.4-5.3-3.3 2.3-10.4-14.25-15.9-13.4-5.5.82 6.9 19.47 2.2 20.26-4.7.8-14.2-19.4-15.8-22.7-1.6-3.2-8.9-11.3-15.5-5.2-13.9 13.2-36.4 12.4-40.9 15.8-13.7 10.3-17.4-3.4-17.1-11.7.6-1.9 1.1-3.8 1.8-5.7 4.5-4.9 20.6-6.6 26.17-2.9 6.1 4.1 10.46-1 12.84-3.5 2.4-2.4 1.5-6.3 0-9.5-1.54-3.2 3.05-5.6 6.2-6.5 3.17-.8 13.65-8.1 17.84-10.6 4.2-2.4 25.98-5.02 35.7-.13 9.76 4.9 18.7.85 23.5-4.8 6-7.16 13.67-12.6 17.05-14.25 3.45-1.57-8.36-12.6-18.1-.6-9.7 11.97-14.66 13.07-19.24 13.07-4.6 0-31.8-6.74-35.1-15.3-3.3-8.57 8.5-15 18.5-19.87 10-4.8 37.46-4.7 44.46-6.3 14.3-3.14 32.5-10.3 41.7-4.04 9.16 6.13-38.35 16.94-22.75 25.4 5.6 3.03 30.7-14.47 39.3-18.95 20.2-10.42-19.65-13.9-14.47-35.1 5.86-24-48.9-14.7-76.2-12.7 36.8-23.3 80.24-37 126.94-37 111 0 204 76.96 228.8 180.4.16 5.1-.64 8.78-1.15 10.88m7.7 44.16c0 16.44-1.74 32.52-4.94 48.04-6.3-1.76-32.7-38.3-11.82-62.3 3.47-4-7-15.6-4.16-15.84 11.4-.8 17.5 6.3 20.5 16.5.2 4.5.4 9.1.4 13.7m-42.2 57.4c-4.7 4.2-16.6 2.7-22.5-2-5.9-4.6 3.7-12.2 7.3-12.5 7.9-.6 19.8 10.3 15.2 14.58M411.9 281c-2.6-.97-4.8-3.37-6.7-9.15-2-5.75 2.9-9.04 7.7-6.73 4.8 2.47 11.1 9.67 11.1 13.5 0 3.86-9.5 3.4-12.1 2.4m-2 131.2c-2.4-.67-4.8-1.4-7.4-2.7-12.9-6.6-11.3 3.9-17.6 1.6-6.4-2.4 7.1-17.05-11.9-4.65-18.9 12.35-13.8-1.9-22.1-22.9-8.3-20.95 9.5-44.85 24.36-50.3 20.45-7.4 33.15-8.9 42.72-11.26 28.3-7.1 34.24-23.8 39.4-13.6.93 1.9 1.9 3.7 2.72 5.4 1.65 3.1 3.6 9.3 3.62 15.3-12 31.5-30.5 59.7-53.95 83m-117-146.1c7.9-.7 19.8 10.37 15.2 14.5-4.64 4.2-16.55 2.68-22.5-2-5.9-4.6 3.76-12.2 7.3-12.5m-94.8 52.4c9.27-17.03 29.37-16.2 13.87 8.78-3.23 5.3-12.1 44.9-18 40.3-6-4.6 2.4-45.9 4.13-49.04m46 162.2c-23 0-45.23-3.34-66.18-9.5-3.1-2.43-4.8-6.53-2.9-11.5 7.3-19 28.9-26.4 46.1-28.04 38.1-3.76 88.3 24.7 96.2 20.1 8.02-4.56 24.16-25.53 47.8-24.7 16.16.66 16.04 3.37 21.5 5.4-39.58 30.2-89 48.2-142.64 48.2m-201-358c.5-.6 1-1.15 1.2-1.4 4.2-4.83 12.7-5.9 18.5-6.77 5.9-1 13.7 1.9 14.6 5.8 1 3.8-14.68 11-17.55 13.6-8.14 7.5-20.85 22.7-28.3 24.4-2.43.5-4.43.1-6.1-.7 4.9-12.17 10.75-23.9 17.5-35m12.1-24C58 94 68.1 81.2 69.36 79.6c2.6-3.34 7.74-4 11.4-4.7 3.56-.66 8.34 1.36 8.94 4.05.6 2.7-1.4 13.15-3.2 14.93-4.9 5.18-17.8 12.46-24.9 11.3-5.5-.83-7.7-5.1-6.6-6.7M244.7.8C110.15.82.7 110.3.7 244.82s109.45 244 244 244c134.53 0 244-109.4 244-244S379.2.87 244.65.87" fill="#3F7E44"/>
          </g>
        </svg>
      </div>
    `;
  }
});
